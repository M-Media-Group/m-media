webpackJsonp([11],{Mwom:function(t,e,n){var o=n("VU/8")(n("WFmZ"),n("QFjz"),!1,null,null,null);t.exports=o.exports},QFjz:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{staticStyle:{width:"100%"},attrs:{name:"fade",mode:"out-in",tag:"div"}},[t.invoice&&!t.loading?n("div",{key:"invoices",staticClass:"table-responsive"},[t.invoice.lines.data?n("div",{key:"items",staticClass:"table-responsive"},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[t._v("Product / service")]),t._v(" "),n("th",[t._v("Price")])])]),t._v(" "),n("tbody",[t._l(t.invoice.lines.data,function(e){return n("tr",{key:e.id},[n("td",[t._v(t._s(e.description))]),t._v(" "),n("td",[t._v(t._s(t.formatNumber(e.amount/100,t.invoice.currency)))])])}),t._v(" "),n("tr",[n("th",{staticStyle:{"text-align":"right"}},[t._v("Subtotal")]),t._v(" "),n("td",[t._v(t._s(t.formatNumber(t.invoice.subtotal/100,t.invoice.currency)))])]),t._v(" "),t.invoice.discount?n("tr",[n("th",{staticStyle:{"text-align":"right"}},[t._v("Discount")]),t._v(" "),n("td",[t._v("\n                               "+t._s(t.invoice.discount.coupon.amount_off?t.invoice.discount.coupon.amount_off:t.invoice.discount.coupon.percent_off+"% off")+"\n                           ")])]):t._e(),t._v(" "),n("tr",[n("th",{staticStyle:{"text-align":"right"}},[t._v("Total")]),t._v(" "),n("th",[t._v(t._s(t.formatNumber(t.invoice.total/100,t.invoice.currency)))])])],2)])]):t._e()]):t._e(),t._v(" "),t.invoice&&!t.loading?n("div",{key:"nextpayment",staticClass:"text-muted"},[t._v("\n           Next invoice will be\n           "+t._s("charge_automatically"===t.invoice.collection_method?"charged automatically":"sent to you for manual payment")+"\n           "+t._s(t.getTimestamp(t.invoice))+". Total may change before payment date.\n           "),n("a",{attrs:{href:"https://blog.mmediagroup.fr/post/see-future-invoice/",target:"_BLANK",rel:"noopener"}},[t._v("Learn more")])]):t.loading?n("div",{key:"loading",staticClass:"alert"},[t._v("Loading...")]):n("div",{key:"error",staticClass:"alert text-muted"},[t._v("You have no upcoming invoice.")])])},staticRenderFns:[]}},"VU/8":function(t,e){t.exports=function(t,e,n,o,i,r){var a,s=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(a=t,s=t.default);var u,l="function"==typeof s?s.options:s;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId=i),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=u):o&&(u=o),u){var d=l.functional,v=d?l.render:l.beforeCreate;d?(l._injectStyles=u,l.render=function(t,e){return u.call(e),v(t,e)}):l.beforeCreate=v?[].concat(v,u):[u]}return{esModule:a,exports:s,options:l}}},WFmZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["userid"],data:function(){return{loading:!0,error:!1,success:!1,invoice:null}},mounted:function(){this.getSub()},methods:{getTimestamp:function(t){var e=t.next_payment_attempt?new Date(1e3*t.next_payment_attempt):new Date(1e3*t.created);return moment(e).fromNow()},formatNumber:function(t,e){return new Intl.NumberFormat(void 0,{style:"currency",currency:e}).format(t)},getSub:function(){var t=this;this.loading=!0,axios.get("/api/users/"+this.userid+"/future-invoice").then(function(e){t.invoice=e.data,t.loading=!1,console.log(t.invoice)}).catch(function(e){console.log(e),t.loading=!1,t.error=!0})}}}}});
//# sourceMappingURL=11.js.map