{"version":3,"sources":["webpack:///./resources/js/components/FutureInvoiceComponent.vue","webpack:///./resources/js/components/FutureInvoiceComponent.vue?f506","webpack:///./node_modules/vue-loader/lib/component-normalizer.js","webpack:///resources/js/components/FutureInvoiceComponent.vue"],"names":["Component","__webpack_require__","normalizeComponent","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticStyle","width","attrs","name","mode","tag","invoice","loading","key","staticClass","lines","_v","_l","item","_s","description","formatNumber","amount","currency","text-align","subtotal","discount","coupon","amount_off","percent_off","_e","total","collection_method","getTimestamp","href","target","rel","staticRenderFns","rawScriptExports","compiledTemplate","functionalTemplate","injectStyles","scopeId","moduleIdentifier","esModule","scriptExports","type","default","hook","options","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","existing","beforeCreate","_injectStyles","h","concat","__webpack_exports__","props","data","error","success","mounted","getSub","methods","invoice_time","next_payment_attempt","Date","created","moment","fromNow","number","Intl","NumberFormat","undefined","style","format","_this","axios","get","userid","then","res","console","log"],"mappings":"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","file":"11.js","sourcesContent":["var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = require(\"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"presets\\\":[[\\\"@babel/preset-env\\\",{\\\"modules\\\":false,\\\"targets\\\":{\\\"browsers\\\":[\\\"> 2%\\\"]},\\\"forceAllTransforms\\\":true}]],\\\"plugins\\\":[\\\"@babel/plugin-proposal-object-rest-spread\\\",[\\\"@babel/plugin-transform-runtime\\\",{\\\"helpers\\\":false}],\\\"@babel/plugin-syntax-dynamic-import\\\"]}!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FutureInvoiceComponent.vue\")\n/* template */\nvar __vue_template__ = require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5ba25c92\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FutureInvoiceComponent.vue\")\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/js/components/FutureInvoiceComponent.vue\n// module id = Mwom\n// module chunks = 11","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition-group',{staticStyle:{\"width\":\"100%\"},attrs:{\"name\":\"fade\",\"mode\":\"out-in\",\"tag\":\"div\"}},[(_vm.invoice && !_vm.loading)?_c('div',{key:\"invoices\",staticClass:\"table-responsive\"},[(_vm.invoice.lines.data)?_c('div',{key:\"items\",staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Product / service\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Price\")])])]),_vm._v(\" \"),_c('tbody',[_vm._l((_vm.invoice.lines.data),function(item){return _c('tr',{key:item['id']},[_c('td',[_vm._v(_vm._s(item.description))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.formatNumber(item.amount / 100, _vm.invoice.currency)))])])}),_vm._v(\" \"),_c('tr',[_c('th',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"Subtotal\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.formatNumber(_vm.invoice.subtotal / 100, _vm.invoice.currency)))])]),_vm._v(\" \"),(_vm.invoice.discount)?_c('tr',[_c('th',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"Discount\")]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n                               \"+_vm._s(_vm.invoice.discount.coupon.amount_off\n                                       ? _vm.invoice.discount.coupon.amount_off\n                                       : _vm.invoice.discount.coupon.percent_off + '% off')+\"\\n                           \")])]):_vm._e(),_vm._v(\" \"),_c('tr',[_c('th',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"Total\")]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.formatNumber(_vm.invoice.total / 100, _vm.invoice.currency)))])])],2)])]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.invoice && !_vm.loading)?_c('div',{key:\"nextpayment\",staticClass:\"text-muted\"},[_vm._v(\"\\n           Next invoice will be\\n           \"+_vm._s(_vm.invoice.collection_method === 'charge_automatically'\n                   ? 'charged automatically'\n                   : 'sent to you for manual payment')+\"\\n           \"+_vm._s(_vm.getTimestamp(_vm.invoice))+\". Total may change before payment date.\\n           \"),_c('a',{attrs:{\"href\":\"https://blog.mmediagroup.fr/post/see-future-invoice/\",\"target\":\"_BLANK\",\"rel\":\"noopener\"}},[_vm._v(\"Learn more\")])]):(_vm.loading)?_c('div',{key:\"loading\",staticClass:\"alert\"},[_vm._v(\"Loading...\")]):_c('div',{key:\"error\",staticClass:\"alert text-muted\"},[_vm._v(\"You have no upcoming invoice.\")])])}\nvar staticRenderFns = []\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ba25c92\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./resources/js/components/FutureInvoiceComponent.vue\n// module id = QFjz\n// module chunks = 11","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/component-normalizer.js\n// module id = VU/8\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19","<template>\n    <transition-group name=\"fade\" mode=\"out-in\" tag=\"div\" style=\"width: 100%\">\n        <div class=\"table-responsive\" v-if=\"invoice && !loading\" key=\"invoices\">\n            <div class=\"table-responsive\" v-if=\"invoice.lines.data\" key=\"items\">\n                <table class=\"table\">\n                    <thead>\n                        <tr>\n                            <th>Product / service</th>\n                            <!--                                  <th>Quantity</th>\n -->\n                            <th>Price</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"item in invoice.lines.data\" :key=\"item['id']\">\n                            <td>{{ item.description }}</td>\n                            <td>{{ formatNumber(item.amount / 100, invoice.currency) }}</td>\n                        </tr>\n                        <tr>\n                            <th style=\"text-align: right\">Subtotal</th>\n                            <td>{{ formatNumber(invoice.subtotal / 100, invoice.currency) }}</td>\n                        </tr>\n                        <tr v-if=\"invoice.discount\">\n                            <th style=\"text-align: right\">Discount</th>\n                            <td>\n                                {{\n                                    invoice.discount.coupon.amount_off\n                                        ? invoice.discount.coupon.amount_off\n                                        : invoice.discount.coupon.percent_off + '% off'\n                                }}\n                            </td>\n                        </tr>\n                        <tr>\n                            <th style=\"text-align: right\">Total</th>\n                            <th>{{ formatNumber(invoice.total / 100, invoice.currency) }}</th>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <div v-if=\"invoice && !loading\" class=\"text-muted\" key=\"nextpayment\">\n            Next invoice will be\n            {{\n                invoice.collection_method === 'charge_automatically'\n                    ? 'charged automatically'\n                    : 'sent to you for manual payment'\n            }}\n            {{ getTimestamp(invoice) }}. Total may change before payment date.\n            <a href=\"https://blog.mmediagroup.fr/post/see-future-invoice/\" target=\"_BLANK\" rel=\"noopener\">Learn more</a>\n        </div>\n        <div v-else-if=\"loading\" key=\"loading\" class=\"alert\">Loading...</div>\n        <div v-else class=\"alert text-muted\" key=\"error\">You have no upcoming invoice.</div>\n    </transition-group>\n</template>\n\n<script>\nexport default {\n    props: ['userid'],\n    data() {\n        return {\n            loading: true,\n            error: false,\n            success: false,\n            invoice: null,\n        };\n    },\n    mounted() {\n        this.getSub();\n    },\n    methods: {\n        getTimestamp: function (invoice) {\n            var invoice_time = invoice.next_payment_attempt\n                ? new Date(invoice.next_payment_attempt * 1000)\n                : new Date(invoice.created * 1000);\n            return moment(invoice_time).fromNow();\n        },\n        formatNumber: function (number, currency) {\n            var formatter = new Intl.NumberFormat(undefined, {\n                style: 'currency',\n                currency: currency,\n            });\n            return formatter.format(number);\n        },\n\n        getSub: function () {\n            this.loading = true;\n            //data.append('_method', 'put'); // add this\n            axios\n                .get('/api/users/' + this.userid + '/future-invoice') // change this to post )\n                .then((res) => {\n                    this.invoice = res.data;\n                    this.loading = false;\n                    console.log(this.invoice);\n                })\n                .catch((error) => {\n                    console.log(error);\n                    this.loading = false;\n                    this.error = true;\n                });\n        },\n    },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// resources/js/components/FutureInvoiceComponent.vue"],"sourceRoot":""}